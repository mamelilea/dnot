---
import { generateWhatsAppLink } from "../utils/whatsapp";

interface Props {
    id: string;
    name: string;
    price: string;
    image: string;
    description: string;
}

const { id, name, price, image, description } = Astro.props;
---

<div
    class="group relative bg-white dark:bg-white/5 rounded-2xl p-4 pt-28 mt-16 shadow-sm border border-[#f3e7ed] dark:border-white/5 hover:shadow-xl transition-all duration-500 product-card flex flex-col"
    data-tilt
>
    <!-- Floating Image -->
    <div
        class="absolute -top-16 left-1/2 -translate-x-1/2 w-40 h-40 rounded-full shadow-2xl group-hover:scale-110 group-hover:rotate-12 transition-all duration-500 ease-out bg-cover bg-center border-4 border-white dark:border-[#221019] z-10"
        style={`background-image: url("${image}");`}
    >
    </div>

    <!-- Card Content -->
    <div class="flex flex-col items-center text-center w-full relative z-0">
        <div class="flex flex-col items-center">
            <h3
                class="text-lg font-heading font-bold text-accent-chocolate dark:text-white mb-1 leading-tight group-hover:text-primary transition-colors"
            >
                {name}
            </h3>
            <p
                class="text-xs text-gray-500 dark:text-gray-400 line-clamp-2 leading-snug min-h-[2.25rem]"
            >
                {description}
            </p>
        </div>

        <!-- Action Area -->
        <div
            class="flex items-center justify-between w-full mt-2 pt-2 border-t border-gray-100 dark:border-white/5"
        >
            <span class="text-xl font-bold text-primary">${price}</span>
            <a
                href={generateWhatsAppLink(name)}
                target="_blank"
                rel="noopener noreferrer"
                class="flex items-center justify-center w-12 h-12 rounded-full bg-accent-cream dark:bg-white/10 text-accent-chocolate dark:text-white hover:bg-primary hover:text-white transition-all duration-300 shadow-sm hover:shadow-glow group/btn"
            >
                <span
                    class="material-symbols-outlined text-xl group-hover/btn:rotate-90 transition-transform"
                    >add</span
                >
            </a>
        </div>
    </div>
</div>
